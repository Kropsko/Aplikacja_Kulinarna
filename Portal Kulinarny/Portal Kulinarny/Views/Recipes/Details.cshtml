@model Portal_Kulinarny.Models.Recipe

@{
    ViewBag.Title = "Details";
}

<h2>Details</h2>

<div>
    <h4>Recipe</h4>
    <hr />

    @Html.DisplayFor(model => model.Title) <br /><br />

    <img src="@Url.Content(Model.Image)" alt="image" width="120" height="120" /> <br /><br />

    @Html.DisplayNameFor(model => model.AuthorName): <span> </span>
    @Html.DisplayFor(model => model.AuthorName) <br /><br />

    @Html.DisplayNameFor(model => model.AddDate): <span> </span>
    @Html.DisplayFor(model => model.AddDate) <br /><br />

    @Html.DisplayNameFor(model => model.PreparationTime): <span> </span>
    @Html.DisplayFor(model => model.PreparationTime)
    @Html.Action("ValidMinutesForm", new { minutes = Model.PreparationTime }).ToString() <br /><br />

    Treść przepisu:<br />
    @Html.DisplayFor(model => model.Content) <br /><br />

    Oceny: <span> </span>
    @Html.DisplayFor(model => model.AverageGrade)<br /><br />

    Składniki (@Model.Ingredients.Count): <br />
            
    <ul>
        @foreach (var ingred in Model.Ingredients)
        {
            <li> @ingred.Quantity @Html.Action("ValidWordForm", new { unitName = ingred.Unit, quantity = ingred.Quantity }) @ingred.IngredientName</li>
        }
    </ul>
</div>

<p>
@if (Model.AuthorName == HttpContext.Current.User.Identity.Name || User.IsInRole("Admins") || User.IsInRole("Editors"))
{
    @Html.ActionLink("Edytuj", "Edit", new { id = Model.RecipeId }) <span>|</span>
}
    @Html.ActionLink("Wróć do listy", "Index")
</p>
